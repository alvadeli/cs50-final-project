{% extends "layout.html" %}

{% block title %}
    Enter Music Data
{% endblock %}

{% block main %}
<div class="col-4 mx-auto container">
  <div class="mb-3">
    <h4> MusicBrains Search 
      <a href="https://musicbrainz.org/" target="_blank"><img src="static/images/MusicBrainz_logo_no_text.png" alt="MusicBrainz Logo" height="35"> </a>
    </h4>
    <form action="/search_musicbrainz_data" method="POST">
        <div class="mb-3">
          <label class="form-label">Artist Name</label>
          <input type="text" class="form-control" name="artist" required value="{{ artist if artist else ""}}">
        </div>
        <div class="mb-3">
          <label class="form-label">Album Title</label>
          <input type="text" class="form-control" name="album" required value="{{ album if album else ""}}">
        </div>
        <button type="submit" class="btn btn-primary">Search</button>
      </form>
    </div>
      {% if display_results %}
        <div class="mb-3" >
          <h4> Select Release</Select></h4>
          {% if release_groups %}  
            <form action="/#" method="POST">
              <div class="mb-3">
                <label class="form-label">Artist Name</label>
                <input type="text" class="form-control" name="artist" required value="{{ artist }}" readonly>
              </div>
              <div class="mb-3">
                  <label class="form-label">Album</label>
                  <select class="form-select" name="selected_release_group" required>
                      <option value="" disabled selected>Choose...</option>
                      {% for release_group in release_groups %}
                          <option value="{{ release_group.id }}">{{ release_group["title"] }} - {{ release_group["first-release-date"] }}</option>
                      {% endfor %}
                  </select>
              </div>
              <div class="mb-3">
                <label class="form-label">Rating (1 to 10)</label>
                <input type="number" class="form-control" name="rating" min="1" max="10" placeholder="Optional Rating"> 
              </div>
              <button type="submit" class="btn btn-primary">Add</button>
            </form>
          {% else %}
            <div> No Albums found </div>
          {% endif %}
      </div>
      {% endif %}
</div>
{% endblock %}


